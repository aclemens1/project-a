"use client"

import { usePathname } from 'next/navigation'
import NavIcon from "./nav-icon"
import NavLink from "./nav-link"
import UserInfo from './user-info'

interface IMenuProps {
  isOpen: boolean
  setIsOpen: (open: boolean) => void
}

const Menu: React.FC<IMenuProps> = ({isOpen, setIsOpen}) => {
  const handleClick = () => {
    setIsOpen(false)
  }

  return (
    <div className={`grow flex flex-col ${isOpen ? "block" : "hidden lg:block"}`}>
      <div className="ps-4 pe-4 py-4 md:py-7 lg:py-2 flex items-center border-b border-gray lg:border-none">
        <div className="flex-1 hidden md:block">
          <img src="./images/kenshi.png" alt="Kenshi Logo" className="h-16" />
        </div>
        <div className="flex grow lg:hidden justify-end">
          <UserInfo subtitleClass="text-gray-500" />
          <button onClick={handleClick} className="text-white order-first ms-0 md:ms-4 justify-self-start md:order-last bg-teal-700 flex items-center justify-center w-10 h-10 rounded-full border-gray-200 border">
            <NavIcon><path d="M16.067 15.183a.626.626 0 0 1-.884.884L10 10.884l-5.183 5.183a.626.626 0 0 1-.884-.884L9.116 10 3.933 4.817a.625.625 0 0 1 .884-.884L10 9.116l5.183-5.183a.625.625 0 0 1 .884.884L10.884 10l5.183 5.183Z"/></NavIcon>
          </button>
        </div>
      </div>
      <div className="flex-1">
        <ul className="my-6 me-6 lg:me-0">
          <li>
            <NavLink href="/dashboard">
              <NavIcon className="mr-2"><path d="M9.733.88a1.25 1.25 0 0 0-1.358 1.245v3.177A1.24 1.24 0 0 0 9.41 6.534 2.5 2.5 0 1 1 6.5 9.13c-.032-.642.1-1.172.39-1.583a1.239 1.239 0 0 0-.132-1.599L4.601 3.741a1.25 1.25 0 0 0-1.846.086 8.094 8.094 0 0 0 .542 10.958A8.066 8.066 0 0 0 9 17.125h.116a8.149 8.149 0 0 0 8.009-8.01c.058-4.242-3.188-7.859-7.392-8.235Zm-6.02 3.74 2.156 2.203v.004c-.32.46-.52.992-.585 1.548H2.153a6.807 6.807 0 0 1 1.56-3.755Zm-1.56 5.005h3.15a3.75 3.75 0 0 0 3.072 3.073v3.149a6.875 6.875 0 0 1-6.221-6.222Zm11.702 4.23a6.832 6.832 0 0 1-4.23 1.99v-3.147a3.714 3.714 0 0 0 1.932-.955 3.75 3.75 0 0 0-1.932-6.441V2.125c3.556.319 6.302 3.381 6.25 6.973a6.833 6.833 0 0 1-2.02 4.757Z"/></NavIcon>
              Dashboard
            </NavLink>
          </li>
          <li>
            <NavLink href="/orders">
              <NavIcon className="mr-2"><path d="M16.875 3.125H3.125a1.25 1.25 0 0 0-1.25 1.25v11.25a1.25 1.25 0 0 0 1.25 1.25h13.75a1.25 1.25 0 0 0 1.25-1.25V4.375a1.25 1.25 0 0 0-1.25-1.25Zm0 1.25v1.25H3.125v-1.25h13.75Zm0 11.25H3.125v-8.75h13.75v8.75ZM13.75 8.75a3.75 3.75 0 0 1-7.5 0 .625.625 0 0 1 1.25 0 2.5 2.5 0 0 0 5 0 .625.625 0 1 1 1.25 0Z"/></NavIcon>
              Orders
            </NavLink>
          </li>
          <li>
            <NavLink href="/customers">
              <NavIcon className="mr-2"><path d="M10 1.875A8.125 8.125 0 1 0 18.125 10 8.133 8.133 0 0 0 10 1.875ZM5.787 15.43a5 5 0 0 1 8.425 0 6.862 6.862 0 0 1-8.425 0ZM7.5 9.375a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0Zm7.637 5.188a6.223 6.223 0 0 0-2.817-2.246 3.75 3.75 0 1 0-4.64 0 6.223 6.223 0 0 0-2.817 2.246 6.875 6.875 0 1 1 10.274 0Z"/></NavIcon>
              Customers
            </NavLink>
          </li>
          <li>
            <NavLink href="/products">
              <NavIcon className="mr-2"><path d="M17.475 5.168 10.6 1.406a1.24 1.24 0 0 0-1.2 0L2.525 5.17a1.25 1.25 0 0 0-.65 1.093v7.472a1.25 1.25 0 0 0 .65 1.094L9.4 18.592a1.24 1.24 0 0 0 1.2 0l6.875-3.763a1.25 1.25 0 0 0 .65-1.094v-7.47a1.25 1.25 0 0 0-.65-1.097ZM10 2.5l6.277 3.438L10 9.375 3.723 5.938 10 2.5ZM3.125 7.031l6.25 3.42v6.703l-6.25-3.418V7.031Zm7.5 10.123v-6.7l6.25-3.423v6.702l-6.25 3.42Z"/></NavIcon>
              Products
            </NavLink>
          </li>
          <li>
            <NavLink href="/pricing" isNew>
              <NavIcon className="mr-2"><path d="m19.27 9.653-3.567-5.346a1.245 1.245 0 0 0-1.037-.557H3.125A1.25 1.25 0 0 0 1.875 5v10a1.25 1.25 0 0 0 1.25 1.25h11.54a1.25 1.25 0 0 0 1.038-.556l3.565-5.347a.626.626 0 0 0 .002-.694ZM14.666 15H3.125V5h11.54l3.333 5-3.332 5Z"/></NavIcon>
              Pricing
            </NavLink>
          </li>
          <li>
            <NavLink href="/freight" isNew>
              <NavIcon className="mr-2"><path d="m19.33 9.14-1.094-2.734a1.245 1.245 0 0 0-1.16-.781h-2.701V5a.625.625 0 0 0-.625-.625H1.875a1.25 1.25 0 0 0-1.25 1.25v8.75a1.25 1.25 0 0 0 1.25 1.25h1.328a2.5 2.5 0 0 0 4.844 0h3.906a2.5 2.5 0 0 0 4.844 0h1.328a1.25 1.25 0 0 0 1.25-1.25v-5c0-.08-.015-.16-.045-.234Zm-4.955-2.265h2.702l.75 1.875h-3.452V6.875Zm-12.5-1.25h11.25v5H1.875v-5Zm3.75 10.625a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Zm6.328-1.875H8.047a2.5 2.5 0 0 0-4.844 0H1.875v-2.5h11.25v.962a2.507 2.507 0 0 0-1.172 1.538Zm2.422 1.875a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Zm3.75-1.875h-1.328a2.505 2.505 0 0 0-2.422-1.875V10h3.75v4.375Z"/></NavIcon>
              Freight
            </NavLink>
          </li>
          <li className="ps-9 pe-9 lg:pe-0">
            <hr className="border-gray-200" />
          </li>
          <li>
            <NavLink href="/settings">
              <NavIcon className="mr-2"><path d="M10 6.25a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5Zm0 6.25a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5Zm8.589-4.124a.625.625 0 0 0-.304-.422l-2.33-1.328-.01-2.627a.625.625 0 0 0-.22-.475 8.742 8.742 0 0 0-2.87-1.615.625.625 0 0 0-.504.046L10 3.27 7.647 1.953a.625.625 0 0 0-.506-.047 8.758 8.758 0 0 0-2.865 1.621.625.625 0 0 0-.221.475L4.043 6.63 1.713 7.96a.625.625 0 0 0-.304.421 8.318 8.318 0 0 0 0 3.247.625.625 0 0 0 .303.422l2.33 1.328.01 2.627a.625.625 0 0 0 .221.475 8.741 8.741 0 0 0 2.87 1.615.624.624 0 0 0 .504-.046L10 16.73l2.353 1.316a.618.618 0 0 0 .505.045 8.758 8.758 0 0 0 2.866-1.62.625.625 0 0 0 .221-.474l.012-2.628 2.33-1.329a.624.624 0 0 0 .304-.421 8.319 8.319 0 0 0-.002-3.244Zm-1.172 2.727-2.232 1.27a.625.625 0 0 0-.234.234c-.046.078-.093.161-.142.24a.62.62 0 0 0-.095.328l-.012 2.52c-.6.47-1.268.847-1.982 1.117l-2.251-1.255a.625.625 0 0 0-.306-.078h-.299a.632.632 0 0 0-.32.078L7.29 16.815a7.498 7.498 0 0 1-1.988-1.112l-.009-2.515a.625.625 0 0 0-.095-.33 4.427 4.427 0 0 1-.14-.24.632.632 0 0 0-.235-.238L2.59 11.107a7.07 7.07 0 0 1 0-2.208l2.228-1.272a.625.625 0 0 0 .234-.234c.046-.078.093-.161.142-.24a.62.62 0 0 0 .095-.328l.012-2.52a7.491 7.491 0 0 1 1.982-1.117L9.53 4.443a.625.625 0 0 0 .32.078h.285a.632.632 0 0 0 .32-.078l2.253-1.258a7.501 7.501 0 0 1 1.988 1.112l.008 2.515c0 .117.034.231.096.33.048.078.096.156.14.24.055.099.136.181.235.238l2.234 1.273c.117.732.119 1.478.004 2.21h.003Z"/></NavIcon>
              Settings
            </NavLink>
          </li>
        </ul>
      </div>
      <div className="my-6 hidden lg:block">
        <svg className="w-20 mx-9" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 107 25">
          <path fill="#2F4447" d="M.064 23.374V.617h12.697v5.054H5.863a.097.097 0 0 0-.097.097v17.606H.064Z"/>
          <path fill="#fff" d="M12.696.682v4.925H5.863a.16.16 0 0 0-.161.16V23.31H.129V.682h12.567Zm.13-.13H0V23.44h5.832V5.769c0-.017.015-.032.032-.032h6.962V.553Z"/>
          <path fill="#2F4447" d="M26.876 24.112c-3.258 0-6.32-1.25-8.624-3.52-2.304-2.272-3.573-5.291-3.573-8.502 0-3.211 1.27-6.232 3.573-8.502A12.204 12.204 0 0 1 26.876.065c3.257 0 6.321 1.25 8.625 3.52 2.303 2.272 3.572 5.291 3.572 8.502 0 3.212-1.269 6.232-3.572 8.502-2.304 2.271-5.366 3.52-8.625 3.52v.003Zm0-18.419c-3.54 0-6.421 2.839-6.421 6.329 0 3.49 2.88 6.328 6.421 6.328 3.54 0 6.42-2.838 6.42-6.328s-2.88-6.329-6.42-6.329Z"/>
          <path fill="#fff" d="M26.876.13c6.7 0 12.133 5.353 12.133 11.958 0 6.606-5.432 11.96-12.133 11.96-6.701 0-12.133-5.354-12.133-11.96C14.743 5.483 20.176.13 26.876.13Zm0 18.283c3.582 0 6.486-2.862 6.486-6.393 0-3.53-2.904-6.392-6.486-6.392-3.581 0-6.486 2.862-6.486 6.392 0 3.531 2.905 6.393 6.486 6.393Zm0-18.414c-1.654 0-3.26.32-4.771.95-1.46.61-2.772 1.48-3.898 2.59a12.039 12.039 0 0 0-2.628 3.844 11.878 11.878 0 0 0-.963 4.705c0 1.633.324 3.216.963 4.707a12.067 12.067 0 0 0 2.628 3.842 12.244 12.244 0 0 0 3.898 2.591c1.512.63 3.117.95 4.771.95 1.655 0 3.26-.32 4.772-.95 1.46-.61 2.771-1.48 3.897-2.59a12.041 12.041 0 0 0 2.628-3.843c.64-1.492.964-3.074.964-4.707 0-1.632-.325-3.214-.964-4.705a12.068 12.068 0 0 0-2.628-3.843A12.244 12.244 0 0 0 31.648.949a12.334 12.334 0 0 0-4.772-.95Zm0 18.284c-3.505 0-6.357-2.81-6.357-6.263 0-3.452 2.851-6.264 6.357-6.264 3.506 0 6.356 2.81 6.356 6.264s-2.851 6.263-6.356 6.263Z"/>
          <path fill="#2F4447" d="M72.382 24.113c-3.258 0-6.321-1.251-8.624-3.521-2.304-2.271-3.573-5.29-3.573-8.502 0-3.211 1.27-6.232 3.573-8.502 2.303-2.271 5.366-3.52 8.624-3.52 3.258 0 6.32 1.25 8.624 3.52 2.304 2.271 3.573 5.29 3.573 8.502 0 3.211-1.27 6.232-3.573 8.502-2.303 2.271-5.366 3.52-8.624 3.52Zm0-18.42c-3.54 0-6.421 2.839-6.421 6.329 0 3.49 2.88 6.328 6.42 6.328 3.542 0 6.42-2.838 6.42-6.328s-2.88-6.328-6.42-6.328Z"/>
          <path fill="#fff" d="M72.382.13c6.7 0 12.133 5.353 12.133 11.958 0 6.606-5.432 11.96-12.133 11.96-6.701 0-12.133-5.354-12.133-11.96C60.25 5.483 65.681.13 72.382.13Zm0 18.283c3.582 0 6.486-2.862 6.486-6.393 0-3.53-2.904-6.392-6.486-6.392-3.581 0-6.486 2.862-6.486 6.392 0 3.531 2.905 6.393 6.486 6.393Zm0-18.414c-1.654 0-3.26.32-4.772.95-1.46.61-2.771 1.48-3.897 2.59a12.04 12.04 0 0 0-2.628 3.844 11.878 11.878 0 0 0-.963 4.705c0 1.633.324 3.216.963 4.707a12.068 12.068 0 0 0 2.628 3.842 12.246 12.246 0 0 0 3.898 2.591c1.512.63 3.117.95 4.771.95 1.655 0 3.26-.32 4.772-.95 1.46-.61 2.771-1.48 3.897-2.59a12.04 12.04 0 0 0 2.628-3.843c.64-1.492.963-3.074.963-4.707 0-1.632-.324-3.214-.963-4.705a12.066 12.066 0 0 0-2.628-3.843A12.244 12.244 0 0 0 77.154.949a12.334 12.334 0 0 0-4.772-.95Zm0 18.284c-3.505 0-6.357-2.81-6.357-6.263 0-3.452 2.851-6.264 6.357-6.264 3.506 0 6.356 2.81 6.356 6.264s-2.851 6.263-6.356 6.263Z"/>
          <path fill="#2F4447" d="M49.277 23.345h-7.558V.598h8.223c1.493 0 4.992 0 6.204 3.833.906 3.007-.264 5.615-1.91 6.695 1.284.496 2.229.958 2.942 1.677.799.806 1.242 1.904 1.396 3.454.146 1.473-.142 2.793-.856 3.922-.541.855-1.325 1.602-2.33 2.217-1.431.875-3.497.95-5.49.95h-.623l.002-.001Zm.4-4.52c.977 0 3.01-.552 3.051-2.255.044-1.762-1.173-2.22-2.238-2.422-.651-.124-1.652-.15-2.377-.15-.347 0-.62.006-.739.009v4.817h2.303Zm-.572-9.254c.533 0 1.115-.255 1.518-.668a2.06 2.06 0 0 0 .586-1.523c-.016-.748-.252-1.293-.719-1.667-.553-.443-1.429-.659-2.678-.659-.144 0-.294.003-.447.009V9.57h1.74Z"/>
          <path fill="#fff" d="M49.94.664c1.64 0 4.965.066 6.144 3.787.925 3.071-.349 5.692-1.992 6.69 2.538.969 4.095 1.879 4.417 5.124.324 3.243-1.527 5.078-3.155 6.076-1.458.893-3.645.94-5.456.94h-8.115V.664h8.158Zm-2.642 8.972h1.805c.937 0 2.202-.781 2.169-2.256-.031-1.39-.795-2.389-3.463-2.389-.163 0-.334.004-.511.011v4.636m.01 9.253h2.367c.92 0 3.072-.522 3.116-2.317.045-1.794-1.188-2.279-2.29-2.488-.66-.125-1.68-.151-2.388-.151-.471 0-.804.011-.804.011v4.945ZM49.942.534h-8.288V23.41h8.244c2.003 0 4.078-.074 5.524-.958 1.014-.622 1.805-1.375 2.351-2.238.722-1.142 1.013-2.474.866-3.963-.156-1.566-.606-2.675-1.414-3.493-.7-.705-1.616-1.165-2.851-1.647.784-.553 1.433-1.447 1.8-2.494.459-1.305.47-2.758.035-4.203-.521-1.647-1.522-2.78-2.973-3.371C51.988.535 50.656.535 49.94.535V.534Zm-2.513 4.592c.131-.005.259-.006.383-.006 1.234 0 2.097.21 2.639.645.45.362.677.89.694 1.619.016.724-.3 1.204-.567 1.477-.39.399-.955.648-1.472.648h-1.677V5.127Zm.01 8.944c.138-.004.381-.007.675-.007.722 0 1.719.026 2.365.148 1.04.197 2.227.644 2.185 2.358-.041 1.656-2.03 2.19-2.987 2.19h-2.238V14.07Z"/>
          <path fill="#2F4447" d="M101.301 23.308v-9.29a.134.134 0 0 0-.134-.134h-8.191a.134.134 0 0 0-.134.134v9.29H87.21V.587h5.633V9.26c0 .073.06.134.134.134h8.191c.073 0 .134-.06.134-.134V.587h5.633v22.72h-5.633v.001Z"/>
          <path fill="#fff" d="M106.871.652v22.592h-5.505v-9.226a.199.199 0 0 0-.198-.199h-8.19a.199.199 0 0 0-.199.199v9.226h-5.505V.652h5.505v8.61c0 .109.09.198.198.198h8.191c.109 0 .198-.089.198-.198V.652h5.505ZM107 .524h-5.764v8.738a.07.07 0 0 1-.069.07h-8.19a.07.07 0 0 1-.07-.07V.522h-5.764v22.85h5.764v-9.354a.07.07 0 0 1 .07-.07h8.19a.07.07 0 0 1 .069.07v9.355H107V.523Z"/>
          <path fill="#147D73" d="M10.117 15.08c1.675 0 3.034-1.387 3.034-3.098 0-1.711-1.359-3.099-3.034-3.099-1.676 0-3.034 1.388-3.034 3.099 0 1.711 1.358 3.098 3.034 3.098Z"/>
          <path fill="#fff" d="M10.117 8.946c1.64 0 2.968 1.359 2.968 3.034 0 1.676-1.329 3.035-2.968 3.035-1.64 0-2.969-1.359-2.969-3.035 0-1.675 1.33-3.034 2.969-3.034Zm0-.128c-1.708 0-3.099 1.419-3.099 3.164s1.39 3.164 3.099 3.164c1.709 0 3.098-1.42 3.098-3.164 0-1.745-1.39-3.164-3.098-3.164Z"/>
        </svg>
      </div>
    </div>
  )
}

export default Menu
